<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">



  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="项目,">










<meta name="description" content="花了大半个寒假的时间，终于完成了一直想写的awd线下半自动框架，编写过程中学到了很多，也感谢一些师傅的指点，文末会分享部分原创核心函数 框架已在我自有服务器搭建的awd环境下经过数次调试，修补了绝大部分致命bug 下面简要介绍框架的使用方法和基本流程： 命令集合： Command          Tips -------       ----------- addip         添加she">
<meta name="keywords" content="项目">
<meta property="og:type" content="article">
<meta property="og:title" content="置顶-项目发布-YML-AWD-FRAMEWORK">
<meta property="og:url" content="https://yml-sec.top/2019/02/17/置顶-项目发布-YML-AWD-FRAMEWORK/index.html">
<meta property="og:site_name" content="yemoli&#39;s blog">
<meta property="og:description" content="花了大半个寒假的时间，终于完成了一直想写的awd线下半自动框架，编写过程中学到了很多，也感谢一些师傅的指点，文末会分享部分原创核心函数 框架已在我自有服务器搭建的awd环境下经过数次调试，修补了绝大部分致命bug 下面简要介绍框架的使用方法和基本流程： 命令集合： Command          Tips -------       ----------- addip         添加she">
<meta property="og:locale" content="default">
<meta property="og:image" content="https://i.imgur.com/cAF95An.gif">
<meta property="og:updated_time" content="2019-02-17T10:19:11.650Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="置顶-项目发布-YML-AWD-FRAMEWORK">
<meta name="twitter:description" content="花了大半个寒假的时间，终于完成了一直想写的awd线下半自动框架，编写过程中学到了很多，也感谢一些师傅的指点，文末会分享部分原创核心函数 框架已在我自有服务器搭建的awd环境下经过数次调试，修补了绝大部分致命bug 下面简要介绍框架的使用方法和基本流程： 命令集合： Command          Tips -------       ----------- addip         添加she">
<meta name="twitter:image" content="https://i.imgur.com/cAF95An.gif">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://yml-sec.top/2019/02/17/置顶-项目发布-YML-AWD-FRAMEWORK/">





  <title>置顶-项目发布-YML-AWD-FRAMEWORK | yemoli's blog</title>
  








</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>
    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">yemoli's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://yml-sec.top/2019/02/17/置顶-项目发布-YML-AWD-FRAMEWORK/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="夜莫离、">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="yemoli's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">置顶-项目发布-YML-AWD-FRAMEWORK</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-02-17T16:55:15+08:00">
                2019-02-17
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  896
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  3
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>花了大半个寒假的时间，终于完成了一直想写的awd线下半自动框架，编写过程中学到了很多，也感谢一些师傅的指点，文末会分享部分原创核心函数</p>
<p>框架已在我自有服务器搭建的awd环境下经过数次调试，修补了绝大部分致命bug</p>
<p>下面简要介绍框架的使用方法和基本流程：</p>
<p>命令集合：</p>
<pre><code>Command          Tips
-------       -----------
addip         添加shell ip和端口
addshell      添加shell路径
saveshell     保存shell到文件
showip        查看ip列表
removeip      移除某个ip
clearip       清除ip列表
saveip        将ip保存到文件
updead        上传bash不死马文件(.crons.php)
loadip        加载储存的IP列表
loadwebshell  加载储存的shell列表
liuliang      进行流量混淆(请先添加ip或loadip)
addflagshell  添加获取flag的shell
saveflagshell 将获取flag的shell储存到文件
loadflagshell 加载储存的flagshell列表
getflag       获取flag(demo: getflag-cat /flag  注意分隔符是&quot;-&quot;)
exit          退出
</code></pre><p>添加ip时需要添加ip地址和端口号，分割符为空格，两者皆支持范围添加，例如下面的例子</p>
<pre><code>addip 10.10.10.10 80
addip 10.10.10.10-19 80
addip 10.10.10.10 80-90
</code></pre><p>removeip 可以删除掉自己机器的ip地址</p>
<p>确认ip地址无误后，可以通过saveip将其保存下来</p>
<p>addshell命令可以添加对方机器上的预留shell，支持get和post格式，已下是输入例子</p>
<pre><code>addshell /a.php c post
addshell /a.php c get
</code></pre><p>其中c为a.php的密码</p>
<p>添加完成后通过saveshell保存下来</p>
<p>如果希望维持权限，可以通过Updead上传不死马文件</p>
<p>flagshell是特定的shell文件，因为用Python去实现菜刀的功能很麻烦，所以获取flag 暂时通过命令执行的方式进行获取,添加flagshell的语法和addshell一样</p>
<p>getflag需要附带获取flag的命令，添加后会提示输入提交flag的地址，这时需要用yml-flag来代替flag当做命令输入，如下图的演示</p>
<p><img src="https://i.imgur.com/cAF95An.gif" alt=""></p>
<p>这样就可以进行自动获取和提交了</p>
<p>关于流量混淆模块：</p>
<p>本人项目是在E盘写的，所以要正常使用该模块需要放在E盘下，并将站点源码放入html目录</p>
<p>为了程序更好的兼容，将程序打包成了exe可执行程序，无需安装Python环境即可使用</p>
<p>该版本程序加了注册码，过后会考虑开放全部源码</p>
<p>下面分享项目部分函数代码</p>
<p>网络收集部分:</p>
<p>ip列表：</p>
<pre><code><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">ip_list</span><span class="params">(x)</span>:</span></span><br><span class="line">    <span class="keyword">global</span> ipList</span><br><span class="line">    iplist = x.split(<span class="string">'.'</span>)</span><br><span class="line">    <span class="keyword">if</span> <span class="string">'-'</span> <span class="keyword">in</span> x:</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> iplist:</span><br><span class="line">            d = i</span><br><span class="line">            <span class="keyword">if</span> <span class="string">'-'</span> <span class="keyword">in</span> d:</span><br><span class="line">                p = iplist.index(d)</span><br><span class="line">                l = d.split(<span class="string">'-'</span>)</span><br><span class="line">                m = int(l[<span class="number">0</span>])</span><br><span class="line">                n = int(l[<span class="number">1</span>])</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(m,n + <span class="number">1</span>):</span><br><span class="line">            iplist[p] = str(j)</span><br><span class="line">            ip = <span class="string">'.'</span>.join(iplist)</span><br><span class="line">            ipList.append(ip)</span><br><span class="line">        ipList = sorted(set(ipList),key = ipList.index)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        ip = <span class="string">'.'</span>.join(iplist)</span><br><span class="line">        ipList.append(ip)</span><br><span class="line">        ipList = sorted(set(ipList),key = ipList.index)</span><br><span class="line">    <span class="keyword">return</span> ipList</span><br></pre></td></tr></table></figure>
</code></pre><p>自写核心部分</p>
<p>流量混淆模块获取源码：</p>
<pre><code>def attack_ll():
    path = &apos;E:\YML-AWD-FRAMEWORK\html&apos;
    global pathList
    for root, dirs, files in os.walk(path):
        for name in files:
            tmp_path = root.replace(path, &quot;&quot;)
            tmp_path = tmp_path.replace(&quot;\\&quot;, &quot;/&quot;)
            tmp_path2 = tmp_path + &quot;/&quot; + name
            pathList.append(tmp_path2)
        for name in dirs:
            tmp_path = root.replace(path, &quot;&quot;)
            tmp_path = tmp_path.replace(&quot;\\&quot;, &quot;/&quot;)
            tmp_path2 = tmp_path + &quot;/&quot; + name
            pathList.append(tmp_path2)
    return pathList
</code></pre><p>flag存储模块：</p>
<pre><code>def save_flag():
    global flag
    global flag_str
    flag = list(set(flag))
    try:
        flag.remove(0)
    except:
        pass
    print(flag)
    flag_str = &quot;&quot;
    for i in flag:
        flag_str = flag_str+i+&quot;\n&quot;
    f = open(&apos;data/flag.txt&apos;, &apos;w+&apos;)
    f.write(flag_str)
    f.close()
</code></pre><p>项目地址：<a href="https://github.com/yemoli/YML-AWD-FRAMEWORK" target="_blank" rel="noopener">https://github.com/yemoli/YML-AWD-FRAMEWORK</a></p>
<p>百度网盘下载：链接：<a href="https://pan.baidu.com/s/1eBTCAFrRbpAYcNuFCqVkKA" target="_blank" rel="noopener">https://pan.baidu.com/s/1eBTCAFrRbpAYcNuFCqVkKA </a><br>提取码：kopf </p>

      
    </div>
    
    
    

    

    
      <div>
        <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
  <div>坚持原创技术分享，您的支持将鼓励我继续创作！</div>
  <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
    <span>Donate</span>
  </button>
  <div id="QR" style="display: none;">

    
      <div id="wechat" style="display: inline-block">
        <img id="wechat_qr" src="/images/wechatpay.jpg" alt="夜莫离、 WeChat Pay">
        <p>WeChat Pay</p>
      </div>
    

    
      <div id="alipay" style="display: inline-block">
        <img id="alipay_qr" src="/images/alipay.jpg" alt="夜莫离、 Alipay">
        <p>Alipay</p>
      </div>
    

    

  </div>
</div>

      </div>
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/项目/" rel="tag"># 项目</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/02/16/python实现进度条/" rel="next" title="python实现进度条">
                <i class="fa fa-chevron-left"></i> python实现进度条
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/02/19/针对Metasploitable2靶机的测试/" rel="prev" title="针对Metasploitable2靶机的测试">
                针对Metasploitable2靶机的测试 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">夜莫离、</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">33</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">14</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/yemoli" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
            </div>
          

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-block">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                Links
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="https://www.baidu.com/" title="Baidu" target="_blank">Baidu</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://chxing.xyz/" title="Bling_Dog" target="_blank">Bling_Dog</a>
                  </li>
                
              </ul>
            </div>
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2018 &mdash; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">夜莫离、</span>

  
</div>


  <!-- <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div> 



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a> v5.1.4</div>-->



<div class="theme-info">
 <div class="powered-by"></div>
 <span class="post-count">博客全站共25.8k字</span>
</div>
        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

  
<script type="text/javascript" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script>

<!-- 页面点击小红心 -->
<script type="text/javascript" src="/js/src/love.js"></script>
</body>
</html>
